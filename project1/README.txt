Ονοματεπώνυμο: Τασιούλας Ραφαήλ-Χρήστος
Α.Μ.: 1115201800191
ΠΡΟΓΡΑΜΜΑΤΙΣΜΟΣ ΣΥΣΤΗΜΑΤΟΣ

ΕΡΓΑΣΙΑ 1

Εντολή μεταγλώττισης: make
Εντολή εκτέλεσης: make run
Εντολή κλήσης valgrind: make valgrind
Εντολή διαγραφής εκτελέσιμων, .o και inputFile.txt: make clean
Εντολή εκτέλεσης testFile.sh: ./testfile.sh virusesFile.txt countriesFile.txt <numLines> <duplicatesAllowed>
Ή bash testfile.sh virusesFile.txt countriesFile.txt <numLines> <duplicatesAllowed>

Μέρος Α

	Το πρόγραμμα είναι γραμμένο σε C++ και διαθέτει ένα μεγάλο αριθμό από modules τα οποία εξυπηρετούν κλάσεις ή συγκεκριμένους τύπους λειτουργιών. Στην 1η κατηγορία ανήκουν τα CitizenRecord.cpp/.h, CitizenVirus.cpp/.h στα οποία ξεκαθαρίζεται ότι στο πρόγραμμά μας η κάθε εγγραφή πολίτη περιλαμβάνει μία λίστα από ιούς μαζί με το αν έχει εμβολιαστεί ο πολίτης  για τον ιό και την συγκεκριμένη ημερομηνία εμβολιασμού σε περίπτωση που υπάρχει σε μια κλάση που ονομάζεται CitizenVirus. Αυτό είναι πολύ χρήσιμο στην περίπτωση που καλούμε την /vaccineStatus χωρίς όνομα ιού καθώς έτσι η διαδικασία παίρνει Ο(n) χρόνο όπου n ο αριθμός των ιώσεων και όχι Ο(nlogk) που θα έπαιρνε άμα αναζητούσαμε κάθε skip list ξεχωριστά όπου k το μέγεθος της κάθε skiplist. Επίσης, υπάρχει η υλοποίηση μιας γενικευμένης λίστας στα List.cpp/.h η οποία χρησιμοποιείται όχι μόνο για τα CitizenVirus αλλά και για να αποθηκευτούν δομές οι οποίες χρησιμοποιούνται πολλές φορές όπως τα BloomFilters και οι SkipLists. Υπάρχουν γενικευμένες υλοποιήσεις για τις δύο κλάσεις στα ομώνυμα .cpp και .h αρχεία καθώς και modules όπου η αντίστοιχη δομή «ζευγαρώνεται» με ένα όνομα ιού (VirusBloom.cpp/.h για τα BloomFilters και VirusSkip.cpp/.h για τις SkipLists στην οποία δομή πληροφορούμαστε και για το αν έχουν εμβολιαστεί ή όχι όσοι μπαίνουν στη SkipList).
	Όσο αφορά τα BloomFilters, ο πίνακας είναι τύπου unsigned char και για να εκτυπωθεί και να καταλάβουμε τις τιμές του εκτυπώνεται ο ascii κωδικός για κάθε στοιχείο του πίνακα σύμφωνα με το δεκαδικό σύστημα αρίθμησης. Επιπλέον, χρησιμοποιούνται οι hash functions που δόθηκαν εδώ: http://cgi.di.uoa.gr/~antoulas/k24/homeworks/h39jdk2.c.
	Όσο αφορά τις SkipLists, υπολογίζεται ο λογάριθμος των γραμμών του citizenRecordsFile και αυτό θα είναι ο default αριθμός από επίπεδα που θα δημιουργηθούν σε κάθε skip list.
	Τα αρχεία που εξυπηρετούν κάποιους τύπους λειτουργιών είναι το main.cpp, το οποίο έχει την main και κάποιες βοηθητικές συναρτήσεις για σύγκριση και εκτύπωση στοιχείων, το Free.cpp, στο οποίο υπάρχουν συναρτήσεις οι οποίες απελευθερώνουν όλη τη μνήμη των δομών που δέχονται ως ορίσματα ακόμα και τη μνήμη που δεν σβήνεται από τους destructors των δομών δηλαδή των values από τις γενικευμένες υλοποιήσεις των λιστών και των skip lists. Επιπλέον υπάρχει το IsValid.cpp το οποίο περιέχει συναρτήσεις οι οποίες ελέγχουν εάν υπάρχουν ή είναι έγκυρα για να καταγραφούν στις υλοποιημένες δομές τα στοιχεία που δίνονται ως όρισμα (αλλά και μια συνάρτηση που συγκρίνει ημερομηνίες και μια συνάρτηση εκτύπωσης λαθών). Σε ορισμένες συναρτήσεις αναζήτησης επιστρέφεται και το ίδιο το στοιχείο που αναζητείται.  Τέλος, υπάρχει και το InputManager.cpp, στο οποίο ο έλεγχος ξεκινάει από την ομώνυμη συνάρτηση η οποία καλείται από την main με ορίσματα τις δομές που δημιουργήσαμε με τους πολίτες, τα BloomFilters και τα SkipLists. Αυτή η συνάρτηση, διαβάζει την εντολή και κατευθύνει τον έλεγχο στη συνάρτηση με αντίστοιχο όνομα με την εντολή που δόθηκε εάν υπάρχει. Έπειτα, κάθε μία από τις συναρτήσεις ελέγχει άμα τα arguments που δόθηκαν για την αντίστοιχη εντολή είναι έγκυρα και τέλος, εάν είναι έγκυρα υλοποιείται η εντολή που ζητήθηκε.
Τα τέσσερα αυτά αρχεία συνδέονται με το Interface.h, το οποίο περιλαμβάνει prototypes για συναρτήσεις από τα 3 modules (IsValid.cpp, InputManager.cpp, Free.cpp) οι οποίες καλούνται από αρχεία διαφορετικά από αυτό που βρίσκονται. Τέλος αυτό το αρχείο, συνδέει τα 4 modules με τις δομές και τις κλάσεις που χρησιμοποιούνται για να αποθηκεύονται τα δεδομένα (CitizenRecord.h, VirusBloom.h, VirusSkip.h).

Μέρος Β

	Στο testFile.sh, ελέγχεται ο αριθμός των arguments που δόθηκαν από τον χρήστη αλλά και η ύπαρξη των 2 φακέλων που δίνονται και εκτυπώνεται μια κενή γραμμή εάν υπάρχει ο κάθε φάκελος. Δεν φροντίζουμε κάποια πεδία μιας εγγραφής να είναι έγκυρα, όπως το id (αν επιτρέπονται duplicates), τα ονοματεπώνυμα με πραγματικά ονοματεπώνυμα, κάποιες χώρες με την πραγματικότητα ενώ επίσης δεν υπάρχει επίσης σχέση της ύπαρξης ημερομηνίας εμβολιασμού με το αν αποφασιστεί ότι ο συγκεκριμένος πολίτης θα έχει εμβολιαστεί για τον ιό ή όχι σε αυτή την εγγραφή. Τα μόνα πεδία που θα είναι πάντα έγκυρα είναι η ηλικία [0, 120], οι ιοί στο αρχείο αλλά και οι ημερομηνίες οι οποίες θα δίνονται ως: dd-mm-yyyy.     
               

